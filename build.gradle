buildscript {
    repositories {
        jcenter()
    }
    dependencies {
        classpath 'com.github.jengelman.gradle.plugins:shadow:0.8'
    }
}

apply plugin: 'shadow'
apply plugin: 'java'
apply plugin: 'idea'

sourceCompatibility = 1.5

repositories {
    mavenCentral()
}

dependencies {
    compile group: 'org.apache.commons', name: 'commons-lang3', version: '3.3.1'
    compile group: 'commons-cli', name: 'commons-cli', version: '1.2'
    compile group: 'commons-codec', name: 'commons-codec', version: '1.9'
    compile group: 'com.googlecode.plist', name: 'dd-plist', version: '1.8'
    testCompile group: 'junit', name: 'junit', version: '4.11'
}

jar {
    manifest {
        attributes  'Application-Name': 'Scalr SSH Launcher',
                    'Implementation-Title': 'SSH Launcher',
                    'Implementation-Version': version,
                    'Main-Class': 'com.scalr.ssh.SSHLauncher',
                    'Permissions': 'all-permissions',
                    'Codebase': codebase,
                    'Application-Library-Allowable-Codebase': allowableCodebase,
                    'Created-By': '1.7.0_51'
                    //'Manifest-Version': '1.0',
                    //'Trusted-Only': 'true',
                    //'Trusted-Library': 'true',
                    //'Created-By': ''
    }
}

shadow {
    exclude 'META-INF/*.DSA'
    exclude 'META-INF/*.RSA'
}
